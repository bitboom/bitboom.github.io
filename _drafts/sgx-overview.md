# [Software Guard Extensions](https://en.wikipedia.org/wiki/Software_Guard_Extensions)

SGX는 Skylake 이후
인텔 CPU칩에 추가된 보안 관련 명령어 셋이다.   

커널 모드에서 동작하는 운영체제는
유저 모드에서 볼 수 없는
보호된 메모리 영역을 지정 할 수 있다.
SGX를 활용 하면
유저 모드에서 동작하는
프로그램 또한
자신만 볼 수 있는
고유한 메모리 영역을
정의 할 수 있게 한다.  

프로그램의 보호된 메모리 영역을
엔클레이브(Enclave)라 한다.
엔클레이브에 저장된 데이터는
프로그램 자신만 볼 수 있다.
운영체제나 루트(root) 권한이 있는
프로세스도 볼 수 없다.

SGX의 위협 모델(Threat model)은
"엔클레이브를 제외한
모든 프로세스는
안전하지 않다."이다.
모든 프로세스에는
운영체제와 하이퍼바이저(hypervisor)도
포함 된다.

SGX는 암호화를 사용하여
위협 모델에 대해
안정성을 보장한다.
엔클레이브는 CPU에의해
항상 암호화 된 채로 
존재한다.
CPU내에서 동작 시킬 때만 복호화 한다.
따라서 엔클레이브 외부에서는
암호화된 형태 밖에
볼 수 없다.

SGX는 부채널 공격(side channel attack)에 대한
보안성은 보장하지 않는다.
프로그램은 자체적으로 부채널 공격에
안전하게 설계 되어야 한다.

SGX는 클라우드 컴퓨팅,
DRM(Digital Rights Management)와 같이
외부로부터 보호되어야 데이터가
있을 때 유용하도록 설계 되었다.
